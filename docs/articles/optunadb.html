<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Using Optuna Dashboard with rCISSVAE • rCISSVAE</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using Optuna Dashboard with rCISSVAE">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rCISSVAE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/CISS-VAE/rCISS-VAE" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://ciss-vae.readthedocs.io/en/latest/index.html" aria-label="CISS-VAE"><span class="filetype filetype-py"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="optunadb_files/kePrint-0.0.1/kePrint.js"></script><link href="optunadb_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Using Optuna Dashboard with rCISSVAE</h1>
            
            <h4 data-toc-skip class="date">2026-01-07</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/CISS-VAE/rCISS-VAE/blob/HEAD/vignettes/optunadb.rmd" class="external-link"><code>vignettes/optunadb.rmd</code></a></small>
      <div class="d-none name"><code>optunadb.rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-optuna-dashboard">What is Optuna Dashboard?<a class="anchor" aria-label="anchor" href="#what-is-optuna-dashboard"></a>
</h2>
<p><a href="https://optuna-dashboard.readthedocs.io/en/latest/getting-started.html" class="external-link">Optuna
dashboard</a> is a visualization tool that allows you to view the
history and results of optuna hyperparameter optimization studies. To
install it, activate your <code>rCISSVAE</code> virtual environment and
use <code>pip install optuna-dashboard</code> from command line.</p>
<p>If you are using <a href="https://positron.posit.co/welcome.html" class="external-link">Positron</a> as your IDE,
you can install the Optuna Dashboard Extension and easily open optuna
database files. For others, the simplest way to use Optuna Dashboard is
from the command line. Please note that the command line version of
Optuna Dashboard has some features that are not in the Extension.</p>
</div>
<div class="section level2">
<h2 id="creating-an-optuna-dashboard-with-the-autotune-function">Creating an Optuna Dashboard with the Autotune Function<a class="anchor" aria-label="anchor" href="#creating-an-optuna-dashboard-with-the-autotune-function"></a>
</h2>
<p>The <code><a href="../reference/autotune_cissvae.html">autotune_cissvae()</a></code> function has an option for
creating an Optuna Dashboard database.</p>
<p><strong>In R:</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/reticulate/" class="external-link">reticulate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ciss-vae.github.io/rCISS-VAE/">rCISSVAE</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Set the virtual environment</span></span>
<span><span class="co"># reticulate::use_virtualenv("./.venv", required = TRUE)</span></span>
<span></span>
<span><span class="co">## Load the data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">df_missing</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">clusters</span><span class="op">)</span></span>
<span></span>
<span><span class="va">aut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/autotune_cissvae.html">autotune_cissvae</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">df_missing</span>,</span>
<span>  index_col <span class="op">=</span> <span class="st">"index"</span>,</span>
<span>  clusters <span class="op">=</span> <span class="va">clusters</span><span class="op">$</span><span class="va">clusters</span>,</span>
<span>  n_trials <span class="op">=</span> <span class="fl">3</span>, <span class="co">## Using low number of trials for demo</span></span>
<span>  study_name <span class="op">=</span> <span class="st">"ShowOptunaDB"</span>,</span>
<span>  device_preference <span class="op">=</span> <span class="st">"cpu"</span>,</span>
<span>  optuna_dashboard_db <span class="op">=</span> <span class="st">"sqlite:///optuna_study_demo.db"</span>,  <span class="co"># Save results to database</span></span>
<span>  load_if_exists <span class="op">=</span> <span class="cn">TRUE</span>, <span class="co">## Set true to load and continue study if it exists</span></span>
<span>  seed <span class="op">=</span> <span class="fl">42</span>, </span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  </span>
<span>  <span class="co">## Hyperparameter search space</span></span>
<span>  num_hidden_layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span>,     <span class="co"># Try 2-5 hidden layers</span></span>
<span>  hidden_dims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">64</span>, <span class="fl">512</span><span class="op">)</span>,        <span class="co"># Layer sizes from 64 to 512</span></span>
<span>  latent_dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span><span class="op">)</span>,         <span class="co"># Latent dimension range</span></span>
<span>  latent_shared <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  output_shared <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  lr <span class="op">=</span> <span class="fl">0.01</span>,  <span class="co"># Learning rate range</span></span>
<span>  decay_factor <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>  beta <span class="op">=</span> <span class="fl">0.01</span>,  <span class="co"># KL weight range</span></span>
<span>  num_epochs <span class="op">=</span> <span class="fl">5</span>,                <span class="co"># Fixed epochs for demo</span></span>
<span>  batch_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">4000</span><span class="op">)</span>,     <span class="co"># Batch size options</span></span>
<span>  num_shared_encode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  num_shared_decode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="co"># Layer placement strategies - try different arrangements</span></span>
<span>  encoder_shared_placement <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"at_end"</span>, <span class="st">"at_start"</span>, <span class="st">"alternating"</span>, <span class="st">"random"</span><span class="op">)</span>,</span>
<span>  decoder_shared_placement <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"at_start"</span>, <span class="st">"at_end"</span>, <span class="st">"alternating"</span>, <span class="st">"random"</span><span class="op">)</span>,</span>
<span>  </span>
<span>  refit_patience <span class="op">=</span> <span class="fl">2</span>,        <span class="co"># Early stopping patience</span></span>
<span>  refit_loops <span class="op">=</span> <span class="fl">10</span>,                <span class="co"># Fixed refit loops</span></span>
<span>  epochs_per_loop <span class="op">=</span> <span class="fl">5</span>,   <span class="co"># Epochs per refit loop</span></span>
<span>  reset_lr_refit <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze results</span></span>
<span><span class="va">imputed</span> <span class="op">&lt;-</span> <span class="va">aut</span><span class="op">$</span><span class="va">imputed</span></span>
<span><span class="va">best_model</span> <span class="op">&lt;-</span> <span class="va">aut</span><span class="op">$</span><span class="va">model</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="va">aut</span><span class="op">$</span><span class="va">results</span></span>
<span></span>
<span><span class="co"># View best hyperparameters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Trial results:"</span><span class="op">)</span></span>
<span><span class="va">results</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html" class="external-link">kable_styling</a></span><span class="op">(</span>font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.5</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.6.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 4.0.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.3.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.2</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.2.0     </span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span></code></pre>
<pre><code><span><span class="co">## [1] "Trial results:"</span></span></code></pre>
<table class="table table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:right;">
trial_number
</th>
<th style="text-align:right;">
imputation_error
</th>
<th style="text-align:right;">
num_hidden_layers
</th>
<th style="text-align:right;">
hidden_dim_0
</th>
<th style="text-align:right;">
hidden_dim_1
</th>
<th style="text-align:right;">
hidden_dim_2
</th>
<th style="text-align:right;">
hidden_dim_3
</th>
<th style="text-align:right;">
hidden_dim_4
</th>
<th style="text-align:right;">
latent_dim
</th>
<th style="text-align:left;">
latent_shared
</th>
<th style="text-align:left;">
output_shared
</th>
<th style="text-align:right;">
batch_size
</th>
<th style="text-align:right;">
num_shared_encode
</th>
<th style="text-align:right;">
num_shared_decode
</th>
<th style="text-align:left;">
encoder_shared_placement
</th>
<th style="text-align:left;">
decoder_shared_placement
</th>
<th style="text-align:left;">
layer_order_enc_used
</th>
<th style="text-align:left;">
layer_order_dec_used
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
29.62110
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
100
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
alternating
</td>
<td style="text-align:left;">
at_start
</td>
<td style="text-align:left;">
S,U,U,U,U
</td>
<td style="text-align:left;">
S,U,U,U,U
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
33.00819
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:right;">
1000
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:left;">
alternating
</td>
<td style="text-align:left;">
alternating
</td>
<td style="text-align:left;">
S,U,U,U,U
</td>
<td style="text-align:left;">
U,U,U,U,U
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
58.28946
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
512
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
NaN
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
TRUE
</td>
<td style="text-align:left;">
FALSE
</td>
<td style="text-align:right;">
4000
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
alternating
</td>
<td style="text-align:left;">
random
</td>
<td style="text-align:left;">
U,U
</td>
<td style="text-align:left;">
S,S
</td>
</tr>
</tbody>
</table>
<p>To view the dashboard:</p>
<p><strong>From Command Line</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">optuna-dashboard</span> <span class="st">"sqlite:///optuna_study_demo.db"</span></span></code></pre></div>
<p>For more information see the <a href="https://optuna-dashboard.readthedocs.io/en/latest/getting-started.html" class="external-link">optuna
dashboard documentation</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yasin Khadem Charvadeh, Kenneth Seier, Katherine S. Panageas, Danielle Vaithilingam, Mithat Gönen, Yuan Chen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
