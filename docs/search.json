[{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/do_not_impute_matrix.html","id":"understanding-the-imputable-matrix","dir":"Articles","previous_headings":"","what":"Understanding the ‘Imputable’ matrix","title":"Masking certain entries from imputation model","text":"look entry P007, death event year 3, can see biomarker entries month 36 (aka year 3) marked non-imputable. running cissvae model dataset, important dataset dni matrix shape column names. allows us take advantage index_col columns_ignore arguments. pass dni matrix imputable_matrix argument. unpack results look imputed dataset, can see P007 still NAs biomarkers past 36 months.","code":"mock_surv[7,] %>% kableExtra::kable() dni[7,] %>%  kableExtra::kable() res <- run_cissvae(   mock_surv,   index_col = \"patient_id\",   columns_ignore = c(\"death_event\",\"death_year\"),   imputable_matrix = dni,      val_proportion = 0.3,   return_clusters =FALSE,   return_history = FALSE,   epochs = 100,   leiden_resolution = 0.01,   k_neighbors = 5,   return_silhouettes = FALSE ) res$imputed_dataset[1:7,] %>% kableExtra::kable()"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/optunadb.html","id":"what-is-optuna-dashboard","dir":"Articles","previous_headings":"","what":"What is Optuna Dashboard?","title":"Using Optuna Dashboard with rCISSVAE","text":"Optuna dashboard visualization tool allows view history results optuna hyperparameter optimization studies. install , activate rCISSVAE virtual environment use pip install optuna-dashboard command line. using Positron IDE, can install Optuna Dashboard Extension easily open optuna database files. others, simplest way use Optuna Dashboard command line. Please note command line version Optuna Dashboard features Extension.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/optunadb.html","id":"creating-an-optuna-dashboard-with-the-autotune-function","dir":"Articles","previous_headings":"","what":"Creating an Optuna Dashboard with the Autotune Function","title":"Using Optuna Dashboard with rCISSVAE","text":"autotune_cissvae() function option creating Optuna Dashboard database. R: view dashboard: Command Line information see optuna dashboard documentation.","code":"library(tidyverse) library(reticulate) library(rCISSVAE) library(kableExtra)  ## Set the virtual environment # reticulate::use_virtualenv(\"./.venv\", required = TRUE)  ## Load the data data(df_missing) data(clusters)  aut <- autotune_cissvae(   data = df_missing,   index_col = \"index\",   clusters = clusters$clusters,   n_trials = 3, ## Using low number of trials for demo   study_name = \"ShowOptunaDB\",   device_preference = \"cpu\",   optuna_dashboard_db = \"sqlite:///optuna_study_demo.db\",  # Save results to database   load_if_exists = TRUE, ## Set true to load and continue study if it exists   seed = 42,    verbose = FALSE,      ## Hyperparameter search space   num_hidden_layers = c(2, 5),     # Try 2-5 hidden layers   hidden_dims = c(64, 512),        # Layer sizes from 64 to 512   latent_dim = c(10, 100),         # Latent dimension range   latent_shared = c(TRUE, FALSE),   output_shared = c(TRUE, FALSE),   lr = 0.01,  # Learning rate range   decay_factor = 0.99,   beta = 0.01,  # KL weight range   num_epochs = 5,                # Fixed epochs for demo   batch_size = c(1000, 4000),     # Batch size options   num_shared_encode = c(0, 1, 2, 3),   num_shared_decode = c(0, 1, 2, 3),      # Layer placement strategies - try different arrangements   encoder_shared_placement = c(\"at_end\", \"at_start\", \"alternating\", \"random\"),   decoder_shared_placement = c(\"at_start\", \"at_end\", \"alternating\", \"random\"),      refit_patience = 2,        # Early stopping patience   refit_loops = 10,                # Fixed refit loops   epochs_per_loop = 5,   # Epochs per refit loop   reset_lr_refit = FALSE )  # Analyze results imputed <- aut$imputed best_model <- aut$model results <- aut$results  # View best hyperparameters print(\"Trial results:\") results |> kable() |>   kable_styling(font_size=12) ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── ## ✔ dplyr     1.1.4     ✔ readr     2.1.5 ## ✔ forcats   1.0.0     ✔ stringr   1.6.0 ## ✔ ggplot2   4.0.0     ✔ tibble    3.3.0 ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 ## ✔ purrr     1.2.0      ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag()    masks stats::lag() ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors ## [1] \"Trial results:\" optuna-dashboard \"sqlite:///optuna_study_demo.db\""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/summary_functions.html","id":"per-cluster-summary","dir":"Articles","previous_headings":"","what":"Per-cluster Summary","title":"Summary Functions","text":"cluster_summary() function creates data summary table stratified missingness cluster. Use cont_style param set style continuous variable summaries (“mean_sd”, “median_iqr”, “”).","code":"library(tidyverse) ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── ## ✔ dplyr     1.1.4     ✔ readr     2.1.5 ## ✔ forcats   1.0.0     ✔ stringr   1.6.0 ## ✔ ggplot2   4.0.0     ✔ tibble    3.3.0 ## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1 ## ✔ purrr     1.2.0      ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag()    masks stats::lag() ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors library(reticulate) library(rCISSVAE) library(kableExtra) ##  ## Attaching package: 'kableExtra' ##  ## The following object is masked from 'package:dplyr': ##  ##     group_rows library(gtsummary)  data(df_missing) data(clusters)  ## Integer clusters must be passed in as a factor cluster_summary(data = df_missing, factor(clusters$clusters),  include = setdiff(names(df_missing), \"index\"),  statistic = list(   all_continuous() ~ \"{mean} ({sd})\",   all_categorical() ~ \"{n} / {N}\\n ({p}%)\"),    missing = \"always\")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/summary_functions.html","id":"by-cluster-imputation-loss-function","dir":"Articles","previous_headings":"","what":"By-cluster imputation loss function","title":"Summary Functions","text":"running model, can get per-cluster validation set imputation loss using performance_by_cluster() function. Set ‘return_validation_dataset = TRUE’ run_cissvae() function able use performance_by_cluster result object. validation dataset (val_data result object) imputed validation dataset (val_imputed result object) returned, imputation loss calculated. run_cissvae() function used generate clusters, set return_clusters=TRUE clusters part return object. Otherwise, use ‘clusters’ parameter performance_by_cluster() input clusters.","code":"result = run_cissvae(   data = df_missing,   index_col = \"index\",   val_proportion = 0.1, ## pass a vector for different proportions by cluster   columns_ignore = c(\"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\"), ## If there are columns in addition to the index you want to ignore when selecting validation set, list them here. In this case, we ignore the 'demographic' columns because we do not want to remove data from them for validation purposes.    clusters = clusters$clusters, ## we have precomputed cluster labels so we pass them here   epochs = 5,   return_silhouettes = FALSE,   return_history = TRUE,  # Get detailed training history   verbose = FALSE,   return_model = TRUE, ## Allows for plotting model schematic   device = \"cpu\",  # Explicit device selection   layer_order_enc = c(\"unshared\", \"shared\", \"unshared\"),   layer_order_dec = c(\"shared\", \"unshared\", \"shared\"),   return_validation_dataset = TRUE )  cat(paste(\"Check necessary returns:\", paste0(names(result), collapse = \", \"))) ## Check necessary returns: imputed_dataset, model, training_history, val_data, val_imputed performance_by_cluster(res = result,    group_col = NULL,    clusters = clusters$clusters,   feature_cols = NULL, ## default, all numeric columns excluding group_col & cols_ignore   by_group = FALSE,   by_cluster = TRUE,   cols_ignore =  c( \"index\", \"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\") ## columns to not score   ) ## $overall ##     metric     n ## 1 90.99783 13783 ##  ## $per_cluster ##   cluster mean_imputation_loss    n ## 1       0             48.70336 3408 ## 2       1             96.68600 1787 ## 3       2             80.57138 5000 ## 4       3            142.86713 3588 ##  ## $per_feature_overall ##    feature       type mean_imputation_loss   n ## 1      Y11 continuous            41.565153 486 ## 2      Y12 continuous            89.328866 486 ## 3      Y13 continuous           119.401816 488 ## 4      Y14 continuous           160.124733 486 ## 5      Y15 continuous           252.965269 484 ## 6      Y21 continuous            66.576460 485 ## 7      Y22 continuous           137.619200 489 ## 8      Y23 continuous           127.223039 489 ## 9      Y24 continuous           202.076766 484 ## 10     Y25 continuous           234.807206 488 ## 11     Y31 continuous            47.142491 592 ## 12     Y32 continuous            87.786836 593 ## 13     Y33 continuous           146.073318 597 ## 14     Y34 continuous           168.344495 593 ## 15     Y35 continuous           205.363351 593 ## 16     Y41 continuous             7.179157 596 ## 17     Y42 continuous            18.288482 596 ## 18     Y43 continuous            37.223463 597 ## 19     Y44 continuous            47.033124 597 ## 20     Y45 continuous            61.172087 590 ## 21     Y51 continuous             5.400970 591 ## 22     Y52 continuous            19.634923 595 ## 23     Y53 continuous            24.613987 601 ## 24     Y54 continuous            26.400094 594 ## 25     Y55 continuous            37.428103 593"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"installing-package","dir":"Articles","previous_headings":"","what":"Installing package","title":"rCISSVAE Vignette","text":"Install devtools remotes already installed: rCISSVAE package can installed :","code":"install.packages(\"remotes\") # or install.packages(\"devtools\") remotes::install_github(\"CISS-VAE/rCISS-VAE\") # or devtools::install_github(\"CISS-VAE/rCISS-VAE\")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"ensuring-correct-virtual-environment-for-reticulate","dir":"Articles","previous_headings":"","what":"Ensuring correct virtual environment for reticulate","title":"rCISSVAE Vignette","text":"package uses reticulate interface python version package ciss_vae. Therefore, necessary make sure venv conda environment set ciss_vae package installed. comfortable creating environment installing package, great! need tell reticulate point. Venv conda","code":"reticulate::use_virtualenv(\"./.venv\", required = TRUE) reticulate::use_condaenv(\"myenv\", required = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"virtual-environment-helper-function","dir":"Articles","previous_headings":"Ensuring correct virtual environment for reticulate","what":"Virtual environment helper function","title":"rCISSVAE Vignette","text":"want manually create virtual environment, can use helper function create_cissvae_env() create virtual environment (venv) current working directory. Note: run issues create_cissvae_env(), can create virtual environment manually following tutorial environment created, activate using:","code":"create_cissvae_env(   envname = \"cissvae_environment\", ## name of environment   path = NULL, ## add path to wherever you want virtual environment to be   install_python = FALSE, ## set to TRUE if you want create_cisssvae_env to install python for you   python_version = \"3.10\" ## set to whatever version you want >=3.10. Python 3.10 or 3.11 recommended ) reticulate::use_virtualenv(\"./cissvae_environment\", required = TRUE) # If you used a non-default environment name then, # reticulate::use_virtualenv(\"./your_environment_name\", required = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"optional-installing-other-python-packages","dir":"Articles","previous_headings":"Ensuring correct virtual environment for reticulate","what":"(optional) Installing other python packages","title":"rCISSVAE Vignette","text":"want install python packages (eg seaborn) environment, can use reticulate::virtualenv_install().","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"optional-use-check_devices-to-see-available-gpu-devices","dir":"Articles","previous_headings":"Ensuring correct virtual environment for reticulate","what":"(optional) Use check_devices() to see available gpu devices","title":"rCISSVAE Vignette","text":"Use check_devices() see cpu/gpu devices available model training. Optionally pass path virtual environment using parameter env_path make sure correct environment activated.","code":"rCISSVAE::check_devices() Available Devices:   • cpu  (Main system processor)   [1] \"cpu\""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"quickstart","dir":"Articles","previous_headings":"","what":"Quickstart","title":"rCISSVAE Vignette","text":"reticulate pointing virtual environment containing ciss_vae python package, can either use run_cissvae function autotune_cissvae function. details using CISSVAE model binary/categorical values see binary variables tutorial. know hyperparameters want use model, use run_cissvae function.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"run-cissvae-with-training-history-and-progress-tracking","dir":"Articles","previous_headings":"Quickstart","what":"Run CISSVAE with Training History and Progress Tracking","title":"rCISSVAE Vignette","text":"data DataFrame format optional index column. already clusters want use, separate vector dataframe. clusters begin , set ‘clusters’ run_cissvae() NULL.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"example-dataset","dir":"Articles","previous_headings":"Quickstart > Run CISSVAE with Training History and Progress Tracking","what":"Example Dataset","title":"rCISSVAE Vignette","text":"rCISSVAE package comes sample dataset predetermined clusters. use sake tutorial. dataset, df_missing contains index column well following: Age, Salary ZipCode columns represent demographic data missingness columns Y1t-Y5t represent biomarker data obtained different timepoints t.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"explanation-of-run_cissvae-parameters","dir":"Articles","previous_headings":"Quickstart > Run CISSVAE with Training History and Progress Tracking","what":"Explanation of run_cissvae() Parameters","title":"rCISSVAE Vignette","text":"run_cissvae() function comprehensive wrapper basic steps running CISS-VAE model, including dataset preparation, optional clustering, running imputation model. Dataset Parameters - data: DataFrame containing dataset imputed. Contains optional index column. - index_col: Name index column preserved imputing. Index column values held validation - val_proportion: Fraction non-missing entries hold validation training. use different proportions cluster, pass vector. - replacement_value: Fill value masked entries training. Default 0.0. - columns_ignore: Character integer vector containing columns exclude selecting validation data. columns used training. - print_dataset: Set TRUE print dataset summary information processing. Clustering Parameters (optional) - clusters: Vector one cluster label per row ‘data’ dataframe. NULL, automatically determine clusters using Leiden Clustering KMeans. - n_clusters: Number clusters KMeans clustering ‘clusters’ NULL. n_clusters NULL, use Leiden Clustering clustering. - leiden_resolution: Resolution parameter Leiden clustering. Defaults 0.5. - k_neighbors: Number nearest neighbors Leiden KNN graph construction. Defaults 15. - leiden_objective: Objective function Leiden clustering. One {“CPM”, “RB”, “Modularity”}. Defaults “CPM”. - missingness_proportion_matrix: Optional pre-computed missingness proportion matrix feature-based clustering. provided, clustering based proportions instead direct 0/1 missingness pattern. - scale_features: Set TRUE scale features using missingness proportion matrix clustering. Model Parameters - hidden_dims: vector containing sizes hidden layers encoder/decoder. length vector determines number hidden layers. - latent_dim: dimension latent space representation. - layer_order_enc: vector stating pattern ‘shared’ ‘unshared’ layers encoder. length must match length(hidden_dims). Default c(‘unshared’, ‘unshared’, ‘unshared’). - layer_order_dec: vector stating pattern ‘shared’ ‘unshared’ layers decoder. length must match length(hidden_dims). Default c(‘shared’, ‘shared’, ‘shared’). - latent_shared: Whether latent space weights shared across clusters. FALSE, separate latent weights cluster. - ouput_shared: FALSE, separate output layer cluster. - batch_size: Integer. Mini-batch size training. Larger values may improve training stability require memory. - return_model: TRUE, returns model object. Set TRUE use plot_vae_architecture() running. - epochs: Number epochs initial training phase - initial_lr: Initial learning rate optimizer. - decay_factor: Exponential decay factor learning rate. - beta: Weight KL divergence term VAE loss function. - device: Device specification computation (“cpu” “cuda”). NULL, automatically selects best available device. - max-loops: Max number impute-refit loops perform. - patience: Training stops validation loss doesn’t improve many consecutive impute-refit loops. - epochs-per-loop: Number epochs per refit loop. null, uses value epochs. Default NULL. - decay_factor_refit: Decay factor refit loops. NULL, uses value decay_factor. Default NULL. - beta_refit: KL weight refit loops. NULL, uses value beta. Default NULL. Optional Parameters - verbose: Set TRUE print MSE loop runs. - return_silhouettes: clusters given, return silhouette scores automatic clustering. - return_history: TRUE, returns training history data.frame. Good checking overfitting. - return_dataset: TRUE, returns ClusterDataset object.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"running-the-imputation","dir":"Articles","previous_headings":"Quickstart > Run CISSVAE with Training History and Progress Tracking","what":"Running the imputation","title":"rCISSVAE Vignette","text":"run imputation model, first load data. can use cluster_summary() function visualize missingness cluster. cluster_summary() function builds {gtsummary}. , plug data clusters run_cissvae() function.","code":"library(tidyverse)   library(reticulate)   library(rCISSVAE)   library(gtsummary)   ## Set correct virtualenv reticulate::use_virtualenv(\"./cissvae_environment\", required = TRUE)  ## Load the data data(df_missing) data(clusters) ## actual cluster labels in clusters$clusters (other column is index)  cluster_summary(   data = df_missing,    clusters = clusters$clusters,    include =setdiff(names(df_missing), \"index\"),   statistic = list(     all_continuous() ~ \"{mean} ({sd})\",     all_categorical() ~ \"{n} / {N}\\n ({p}%)\"),    missing = \"always\") ## Run the imputation model.  dat = run_cissvae(   data = df_missing,   index_col = \"index\",   val_proportion = 0.1, ## pass a vector for different proportions by cluster   columns_ignore = c(\"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\"), ## If there are columns in addition to the index you want to ignore when selecting validation set, list them here. In this case, we ignore the 'demographic' columns because we do not want to remove data from them for validation purposes.    clusters = clusters$clusters, ## we have precomputed cluster labels so we pass them here   epochs = 500,   return_silhouettes = FALSE,   return_history = TRUE,  # Get detailed training history   verbose = FALSE,   return_model = TRUE, ## Allows for plotting model schematic   device = \"cpu\",  # Explicit device selection   layer_order_enc = c(\"unshared\", \"shared\", \"unshared\"),   layer_order_dec = c(\"shared\", \"unshared\", \"shared\") )  ## Retrieve results imputed_df <- dat$imputed silhouette <- dat$silhouettes training_history <- dat$history  # Detailed training progress  ## Plot training progress if (!is.null(training_history)) {   plot(training_history$epoch, training_history$loss,         type = \"l\", main = \"Training Loss Over Time\",         xlab = \"Epoch\", ylab = \"Loss\") }  plot_vae_architecture(model = dat$model, save_path = \"test_plot_arch.png\")  print(head(dat$imputed_dataset)) Cluster dataset:  ClusterDataset(n_samples=8000, n_features=30, n_clusters=4)   • Original missing: 61800 / 200000 (30.90%)   • Validation held-out: 13783 (9.97% of non-missing)   • .data shape:     (8000, 30)   • .masks shape:    (8000, 30)   • .val_data shape: (8000, 30) #>   index       Age   Salary ZipCode10001 ZipCode20002 ZipCode30003         Y11 #> 0     0 11.044449 6.366204            0            1            0  -4.0495372 #> 1     1  9.727260 5.912558            1            0            0   0.5461677 #> 2     2 11.383020 6.636472            0            1            0  -1.2134339 #> 3     3 13.560905 5.896255            0            0            1 -10.6082144 #> 4     4  9.542490 6.128326            1            0            0   0.3575883 #> 5     5  9.542521 6.393217            1            0            0   4.7617960 #>         Y12         Y13        Y14        Y15        Y21       Y22       Y23 #> 0 -14.39339  -0.5147629 -14.369148 -17.564449 -10.736261 -18.53887 -35.77263 #> 1 -19.02272 -12.1895180  -7.722473   3.319988  -7.470250 -20.88160 -25.92436 #> 2 -19.03144 -20.3589058 -15.126495 -17.251385 -18.448421 -21.01385 -34.40086 #> 3 -22.24773  -7.1759834 -14.207619 -21.339748 -21.971752 -24.32133 -40.18794 #> 4 -16.48769 -11.3127708   7.535458  10.184475  -7.576005 -27.63498 -15.74972 #> 5 -18.96558 -12.2694435   5.667511  -9.094982  -4.120708 -29.16836 -25.07210 #>          Y24       Y25       Y31        Y32        Y33         Y34        Y35 #> 0 -28.098907 -30.24259 -1.627203  -6.557133 -16.769653 -10.6946259 -13.900185 #> 1 -17.231422 -18.69529  4.355482  -9.500225 -10.927032  -5.8868866  -6.088921 #> 2 -27.250603 -28.83982 -2.169048 -10.735180 -17.193771 -10.4940796 -12.286621 #> 3 -26.304344 -33.35109 -7.478534 -13.641594 -25.310104  -0.5022125 -15.429726 #> 4  -1.223648 -18.55935  8.103012 -13.563183  -9.832379  11.2815590  -2.962196 #> 5  -4.624435 -19.35896  7.710739  -8.304111 -10.381554   7.6654510  -4.992691 #>          Y41       Y42       Y43       Y44       Y45      Y51         Y52 #> 0 -0.9049605 -2.512167  3.527925 -3.694853 -5.680294 2.587588  1.84293461 #> 1  2.6245856 -4.218277 -5.776196 -1.379498 -2.329605 6.080512  0.04265404 #> 2  0.1033239 -4.733656 -7.215717 -3.350798 -6.895340 2.531148  0.31131554 #> 3 -2.8251922 -6.273870 -8.293898 -2.398297  3.204130 0.138556 -0.79631424 #> 4  3.6173897 -4.619453 -3.856878  7.120106 -1.495659 2.406390 -3.34118080 #> 5  2.1276770 -4.269014 -4.685389  5.764248 -2.990555 2.464692 -3.37204909 #>         Y53        Y54        Y55 #> 0 -4.681194 -2.2484055 -2.6790791 #> 1 -2.290062 -0.8873978  0.5625324 #> 2 -5.427431 -1.3301620 -2.3243809 #> 3 -5.729860 -1.6395874 -4.4457073 #> 4 -1.915190  6.5168343  0.1034508 #> 5 -2.237415  5.5294094 -1.0737858"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"clustering-features-by-missingness-patterns","dir":"Articles","previous_headings":"Quickstart","what":"Clustering Features by Missingness Patterns","title":"rCISSVAE Vignette","text":"running CISS-VAE, can cluster features based missingness patterns. helps identify features tend missing together systematically, can improve imputation quality.","code":"library(rCISSVAE)  data(df_missing)   cluster_result <- cluster_on_missing(   data = df_missing,   cols_ignore =  c(\"index\", \"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\"),   n_clusters = 4,  # Use KMeans with 4 clusters   seed = 42 )  cluster_summary(df_missing, factor(cluster_result$clusters), include = setdiff(names(df_missing), \"index\"),  statistic = list(   gtsummary::all_continuous() ~ \"{mean} ({sd})\",   gtsummary::all_categorical() ~ \"{n} / {N}\\n ({p}%)\"),    missing = \"always\")    cat(paste(\"Clustering quality (silhouette):\", round(cluster_result$silhouette, 3)))   result <- run_cissvae(   data = df_missing,   index_col = \"index\",   clusters = cluster_result$clusters,   return_history = TRUE,   verbose = FALSE,   device = \"cpu\" ) #> Clustering quality (silhouette):  0.135"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"using-pre-computed-missingness-proportion-matrix","dir":"Articles","previous_headings":"Quickstart > Clustering Features by Missingness Patterns","what":"Using Pre-computed Missingness Proportion Matrix","title":"rCISSVAE Vignette","text":"create clusters based proportion missingness across timepoints given feature, can provide pre-computed missingness proportion matrix (using create_missingness_prop_matrix() manually) directly run_cissvae():","code":"## Standardize df_missing column names to feature_timepoint format colnames(df_missing) = c('index', 'Age', 'Salary', 'ZipCode10001', 'ZipCode20002', 'ZipCode30003', 'Y1_1', 'Y1_2', 'Y1_3', 'Y1_4', 'Y1_5', 'Y2_1', 'Y2_2', 'Y2_3', 'Y2_4', 'Y2_5', 'Y3_1', 'Y3_2', 'Y3_3', 'Y3_4', 'Y3_5', 'Y4_1', 'Y4_2', 'Y4_3', 'Y4_4', 'Y4_5', 'Y5_1', 'Y5_2', 'Y5_3', 'Y5_4', 'Y5_5')  # Create and examine missingness proportion matrix prop_matrix <- create_missingness_prop_matrix(df_missing,  index_col = \"index\",  cols_ignore = c('Age', 'Salary', 'ZipCode10001', 'ZipCode20002', 'ZipCode30003'), repeat_feature_names = c(\"Y1\", \"Y2\", \"Y3\", \"Y4\", \"Y5\"))   cat(\"Missingness proportion matrix dimensions:\\n\") cat(dim(prop_matrix), \"\\n\") cat(\"Sample of proportion matrix:\\n\") print(head(prop_matrix[, 1:5]))  # Use proportion matrix with scaling for better clustering advanced_result <- run_cissvae(   data = df_missing,   index_col = \"index\",   clusters = NULL,  # Let function cluster using prop_matrix   columns_ignore = c('Age', 'Salary', 'ZipCode10001', 'ZipCode20002', 'ZipCode30003'),    missingness_proportion_matrix = prop_matrix,   scale_features = TRUE,  # Standardize features before clustering   n_clusters = 4,   leiden_resolution = 0.1,     epochs = 5,   return_history = TRUE,   return_silhouettes = TRUE,   device = \"cpu\",   verbose = FALSE,   return_clusters = TRUE )  print(\"Clustering quality:\") print(paste(\"Silhouette score:\", round(advanced_result$silhouette_width, 3)))  ## Plotting imputation loss by epoch   ggplot2::ggplot(data = advanced_result$training_history, aes(x = epoch, y = imputation_error)) + geom_point() + labs(y = \"Imputation Loss\", x = \"Epoch\") +    theme_classic() #> Missingness proportion matrix dimensions: #> 8000 5 #> Sample of proportion matrix: #>    Y1  Y2  Y3  Y4  Y5 #> 1 0.4 0.4 0.2 0.4 0.2 #> 2 0.4 0.2 0.2 0.2 0.2 #> 3 0.4 0.2 0.2 0.4 0.2 #> 4 0.4 0.2 0.4 0.4 0.2 #> 5 0.4 0.4 0.2 0.2 0.4 #> 6 0.2 0.2 0.4 0.2 0.4 #> Clustering quality: #> Silhouette score: 0.656"},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"understanding-parameter-types","dir":"Articles","previous_headings":"Quickstart > Advanced Hyperparameter Optimization with Autotune","what":"Understanding Parameter Types","title":"rCISSVAE Vignette","text":"hyperparameter optimization autotune_cissvae(), parameters can specified : Fixed value: beta = 0.01 → parameter remains constant across trials Categorical choice: c(64, 128, 256) → Optuna selects provided options Float range: reticulate::tuple(1e-4, 1e-3) → Optuna suggests floats specified range","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/vignette.html","id":"layer-placement-strategies","dir":"Articles","previous_headings":"Quickstart > Advanced Hyperparameter Optimization with Autotune > Understanding Parameter Types","what":"Layer Placement Strategies","title":"rCISSVAE Vignette","text":"layer arrangement strategies control shared unshared layers positioned: \"at_end\": Places shared layers end encoder start decoder \"at_start\": Places shared layers start encoder end decoder \"alternating\": Distributes shared layers evenly throughout architecture \"random\": Uses random placement shared layers (reproducible seed) information using optuna dashboard, see Optuna Dashboard tutorial","code":"library(tidyverse) library(reticulate) library(rCISSVAE) reticulate::use_virtualenv(\"./cissvae_environment\", required = TRUE)  data(df_missing) data(clusters)  aut <- autotune_cissvae(   data = df_missing,   index_col = \"index\",   clusters = clusters$clusters,   save_model_path = NULL,   save_search_space_path = NULL,   n_trials = 3, ## Using low number of trials for demo   study_name = \"comprehensive_vae_autotune\",   device_preference = \"cpu\",   show_progress = FALSE,  # Set true for Rich progress bars with training visualization   optuna_dashboard_db = \"sqlite:///optuna_study.db\",  # Save results to database   load_if_exists = FALSE, ## Set true to load and continue study if it exists   seed = 42,    verbose = FALSE,      # Search strategy options   constant_layer_size = FALSE,     # Allow different sizes per layer   evaluate_all_orders = FALSE,     # Sample layer arrangements efficiently   max_exhaustive_orders = 100,     # Limit for exhaustive search      ## Hyperparameter search space   num_hidden_layers = c(2, 5),     # Try 2-5 hidden layers   hidden_dims = c(64, 512),        # Layer sizes from 64 to 512   latent_dim = c(10, 100),         # Latent dimension range   latent_shared = c(TRUE, FALSE),   output_shared = c(TRUE, FALSE),   lr = 0.01,  # Learning rate range   decay_factor = 0.99,   beta = 0.01,  # KL weight range   num_epochs = 500,                # Fixed epochs for demo   batch_size = c(1000, 4000),     # Batch size options   num_shared_encode = c(0, 1, 2, 3),   num_shared_decode = c(0, 1, 2, 3),      # Layer placement strategies - try different arrangements   encoder_shared_placement = c(\"at_end\", \"at_start\", \"alternating\", \"random\"),   decoder_shared_placement = c(\"at_start\", \"at_end\", \"alternating\", \"random\"),      refit_patience = 2,        # Early stopping patience   refit_loops = 100,                # Fixed refit loops   epochs_per_loop = 100,   # Epochs per refit loop   reset_lr_refit = c(TRUE, FALSE) )  # Analyze results imputed <- aut$imputed best_model <- aut$model study <- aut$study results <- aut$results  # View best hyperparameters print(\"Trial results:\") results %>% kable() %>%   kable_styling(font_size=12)  # Plot model architecture plot_vae_architecture(best_model, title = \"Optimized CISSVAE Architecture\") #> [1] \"Trial results:\""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"prerequisites","dir":"Articles","previous_headings":"","what":"Prerequisites","title":"Manual Virtual Environment Setup Tutorial","text":"starting, ensure : Python 3.10 3.11 installed system R reticulate package installed can check Python version running following terminal:","code":"install.packages(\"reticulate\") python --version # or python3 --version"},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-1-install-reticulate-if-not-already-installed","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 1: Install reticulate (if not already installed)","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"install.packages(\"reticulate\") library(reticulate)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-2-check-available-python-versions","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 2: Check available Python versions","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"# Find Python installations on your system reticulate::py_discover_config()  # Or check for a specific version reticulate::virtualenv_starter(\"3.10\")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"installing-python-via-reticulate-if-needed","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate) > Step 2: Check available Python versions","what":"Installing Python via reticulate (if needed)","title":"Manual Virtual Environment Setup Tutorial","text":"suitable Python version found, can install Python directly reticulate: Note: reticulate::install_python() : Download install standalone Python version managed reticulate Install location doesn’t interfere system Python Work across Windows, macOS, Linux Automatically configure PATH reticulate find installation fails prefer control, can also install Python manually: Windows: Download python.org check “Add Python PATH” macOS: Use Homebrew (brew install python@3.10) download python.org Linux: Use package manager (sudo apt install python3.10 Ubuntu) manual installation, restart R rerun reticulate::py_discover_config() verify reticulate can find new Python installation.","code":"# Install Python 3.10 (recommended) reticulate::install_python(version = \"3.10\")  # Or install Python 3.11 reticulate::install_python(version = \"3.11\")  # Check available versions after installation reticulate::py_versions()  # Verify the installation worked reticulate::virtualenv_starter(\"3.10\")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-3-create-the-virtual-environment","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 3: Create the virtual environment","title":"Manual Virtual Environment Setup Tutorial","text":"’ve identified python installation want use, can use reticulate package create virtual environment either default location (~/.virtualenvs/) directory choice.","code":"# Create virtual environment in default location (~/.virtualenvs/) reticulate::virtualenv_create(   envname = \"cissvae_env\",   python = NULL,  # Use system default Python   packages = c(\"pip\", \"setuptools\", \"wheel\") )  # Alternative: Create in a specific directory reticulate::virtualenv_create(   envname = \"./my_venvs/cissvae_env\",  # Relative path   python = \"/usr/bin/python3.10\",     # Specific Python version   packages = c(\"pip\", \"setuptools\", \"wheel\") )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-4-activate-the-environment","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 4: Activate the environment","title":"Manual Virtual Environment Setup Tutorial","text":"order use virtual environment, tell reticulate activate use command . repeat command new R session want use virtual environment .","code":"# Activate environment (default location) reticulate::use_virtualenv(\"cissvae_env\", required = TRUE)  # Or activate from specific path reticulate::use_virtualenv(\"./my_venvs/cissvae_env\", required = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-5-install-required-packages","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 5: Install required packages","title":"Manual Virtual Environment Setup Tutorial","text":"using virtual environment first time, install necessary dependencies ciss-vae python package environment. needs done per environment (unless want update packages later).","code":"# Install core dependencies first reticulate::virtualenv_install(   envname = \"cissvae_env\",   packages = c(     \"numpy\",     \"pandas\",      \"torch\",     \"scikit-learn\",     \"optuna\",     \"rich\",     \"matplotlib\",     \"leiden-alg\",     \"python-igraph\"   ) )  # Install CISS-VAE from PyPI reticulate::virtualenv_install(   envname = \"cissvae_env\",   packages = \"ciss-vae\" )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-6-verify-installation","dir":"Articles","previous_headings":"Method 1: Creating Virtual Environment with R (reticulate)","what":"Step 6: Verify installation","title":"Manual Virtual Environment Setup Tutorial","text":"installing packages, can use following commands make sure ciss_vae package installed correctly.","code":"# Check if CISS-VAE installed correctly reticulate::py_run_string(\"import ciss_vae; print('CISS-VAE version:', ciss_vae.__version__)\")  # List all installed packages reticulate::virtualenv_install(envname = \"cissvae_env\", packages = character(0))"},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-1-open-terminalcommand-prompt","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 1: Open terminal/command prompt","title":"Manual Virtual Environment Setup Tutorial","text":"Navigate desired directory:","code":"cd /path/to/your/project"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-2-create-virtual-environment","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 2: Create virtual environment","title":"Manual Virtual Environment Setup Tutorial","text":"Please note, python must installed work.","code":"# Using venv (Python 3.3+) python -m venv cissvae_env  # Or using python3 explicitly python3 -m venv cissvae_env  # For specific Python version python3.10 -m venv cissvae_env"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-3-activate-the-environment","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 3: Activate the environment","title":"Manual Virtual Environment Setup Tutorial","text":"Windows: Windows OS, command activate environment differs based terminal using. macOS/Linux: see (cissvae_env) beginning prompt activated.","code":"# Command Prompt cissvae_env\\Scripts\\activate  # PowerShell cissvae_env\\Scripts\\Activate.ps1  # Git Bash source cissvae_env/Scripts/activate source cissvae_env/bin/activate"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-4-upgrade-pip-and-install-packages","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 4: Upgrade pip and install packages","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"# Upgrade pip first (optional) pip install --upgrade pip setuptools wheel  # Install core scientific packages pip install numpy pandas matplotlib scikit-learn  # Install machine learning frameworks pip install torch optuna rich hdbscan  # Install CISS-VAE pip install ciss-vae"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-5-verify-installation","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 5: Verify installation","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"# Check Python version in environment python --version  # List installed packages pip list  # Test CISS-VAE import python -c \"import ciss_vae; print('CISS-VAE installed successfully!')\""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"step-6-connect-r-to-your-environment","dir":"Articles","previous_headings":"Method 2: Creating Virtual Environment from Command Line","what":"Step 6: Connect R to your environment","title":"Manual Virtual Environment Setup Tutorial","text":"creating environment via command line, tell R find :","code":"library(reticulate)  # Point to your manually created environment reticulate::use_virtualenv(\"/path/to/your/project/cissvae_env\", required = TRUE)  # On Windows, the path might look like: # reticulate::use_virtualenv(\"C:/Users/YourName/project/cissvae_env\", required = TRUE)  # Verify connection reticulate::py_config()"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"alternative-using-conda-environment","dir":"Articles","previous_headings":"","what":"Alternative: Using Conda Environment","title":"Manual Virtual Environment Setup Tutorial","text":"prefer conda venv:","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"command-line-approach","dir":"Articles","previous_headings":"Alternative: Using Conda Environment","what":"Command Line Approach:","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"# Create conda environment conda create -n cissvae_env python=3.10  # Activate environment conda activate cissvae_env  # Install packages conda install numpy pandas matplotlib scikit-learn pip install torch optuna rich hdbscan ciss-vae"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"r-approach","dir":"Articles","previous_headings":"Alternative: Using Conda Environment","what":"R Approach:","title":"Manual Virtual Environment Setup Tutorial","text":"","code":"# Create conda environment from R reticulate::conda_create(   envname = \"cissvae_env\",   python_version = \"3.10\",   packages = c(\"numpy\", \"pandas\", \"matplotlib\", \"scikit-learn\") )  # Activate and install additional packages reticulate::use_condaenv(\"cissvae_env\", required = TRUE) reticulate::conda_install(\"cissvae_env\", c(\"torch\", \"optuna\", \"rich\", \"hdbscan\", \"ciss-vae\"))"},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"issue-1-python-not-found","dir":"Articles","previous_headings":"Troubleshooting Common Issues","what":"Issue 1: “Python not found”","title":"Manual Virtual Environment Setup Tutorial","text":"Solution: Ensure Python system PATH, specify full path:","code":"reticulate::virtualenv_create(   envname = \"cissvae_env\",   python = \"/usr/local/bin/python3.10\"  # Full path to Python )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"issue-2-permission-denied-errors","dir":"Articles","previous_headings":"Troubleshooting Common Issues","what":"Issue 2: “Permission denied” errors","title":"Manual Virtual Environment Setup Tutorial","text":"Solution: Windows: Run R/RStudio Administrator macOS/Linux: Check directory permissions use different location","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"issue-3-package-installation-fails","dir":"Articles","previous_headings":"Troubleshooting Common Issues","what":"Issue 3: Package installation fails","title":"Manual Virtual Environment Setup Tutorial","text":"Solution: Install packages one one identify problematic package:","code":"packages <- c(\"numpy\", \"pandas\", \"torch\", \"ciss-vae\") for (pkg in packages) {   cat(\"Installing\", pkg, \"...\\n\")   reticulate::virtualenv_install(\"cissvae_env\", pkg) }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"issue-4-ciss-vae-import-fails-in-r","dir":"Articles","previous_headings":"Troubleshooting Common Issues","what":"Issue 4: CISS-VAE import fails in R","title":"Manual Virtual Environment Setup Tutorial","text":"Solution: Verify environment properly activated:","code":"# Check Python configuration reticulate::py_config()  # Test import manually reticulate::py_run_string(\" try:     import ciss_vae     print('Success: ciss_vae imported')     print('Version:', ciss_vae.__version__) except ImportError as e:     print('Error importing ciss_vae:', e) \")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/articles/virtual_environment_tutorial.html","id":"issue-5-environment-not-persisting-between-r-sessions","dir":"Articles","previous_headings":"Troubleshooting Common Issues","what":"Issue 5: Environment not persisting between R sessions","title":"Manual Virtual Environment Setup Tutorial","text":"Solution: Always activate environment start R session:","code":"# Add this to the top of your R scripts library(reticulate) reticulate::use_virtualenv(\"cissvae_env\", required = TRUE)  # Or add to your .Rprofile for automatic loading cat('reticulate::use_virtualenv(\"cissvae_env\", required = TRUE)\\n',      file = \"~/.Rprofile\", append = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Yasin Khadem Charvadeh. Author. Kenneth Seier. Author. Katherine S. Panageas. Author. Danielle Vaithilingam. Author, maintainer. Mithat Gönen. Author. Yuan Chen. Author.","code":""},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"rciss-vae","dir":"","previous_headings":"","what":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"R implementation Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) imputation. Python implementation can found available installation PyPI. CISS-VAE flexible deep learning model missing data imputation accommodates three types missing data mechanisms: Missing Completely Random (MCAR), Missing Random (MAR), Missing Random (MNAR). particularly well-suited MNAR scenarios missingness patterns carry informative signals, CISS-VAE also functions effectively MAR assumptions. information, please check publication! key feature CISS-VAE use unsupervised clustering capture distinct patterns missingness. Alongside cluster-specific representations, method leverages shared encoder decoder layers. allows knowledge transfer across clusters enhances parameter stability, especially important clusters small sample sizes. situations data naturally partition meaningful clusters, model defaults pooled representation, preventing unnecessary complications cluster-specific components.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"Install devtools remotes already installed: rCISSVAE package can installed :","code":"install.packages(\"remotes\") # or install.packages(\"devtools\") remotes::install_github(\"CISS-VAE/rCISS-VAE\") # or devtools::install_github(\"CISS-VAE/rCISS-VAE\")"},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"ensuring-correct-virtual-environment-for-reticulate","dir":"","previous_headings":"","what":"Ensuring correct virtual environment for reticulate","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"package uses reticulate interface python version package ciss-vae, can installed via pip. comfortable creating venv conda environment installing package, great! need tell reticulate point. Venv conda","code":"reticulate::use_virtualenv(\"./.venv\", required = TRUE) reticulate::use_condaenv(\"myenv\", required = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"virtual-environment-helper-function","dir":"","previous_headings":"Ensuring correct virtual environment for reticulate","what":"Virtual environment helper function","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"want manually create virtual environment, can use helper function create_cissvae_env() create virtual environment (venv). environment created, activate using:","code":"create_cissvae_env(   envname = \"cissvae_environment\", ## name of environment   path = NULL, ## add path to wherever you want virtual environment to be. If null will create environment in current working directory   install_python = FALSE, ## set to TRUE if you want create_cisssvae_env to install python for you   python_version = \"3.10\" ## set to whatever version you want >=3.10. Python 3.10 or 3.11 recommended ) reticulate::use_virtualenv(\"./cissvae_environment\", required = TRUE)  # In other words, # reticulate::use_virtualenv(\"./your_environment_name\", required = TRUE)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"quickstart","dir":"","previous_headings":"","what":"Quickstart","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"input dataset matrix data.frame missing values represented NA NaN. Precomputed clusters passed numeric vector length ‘n’ ‘n x p’ dataset. information run_cissvae() handle clustering see ‘Clustering Features Missingness Patterns’ vignette. ```{r} library(reticulate) library(rCISSVAE) data(df_missing) data(clusters) dat = run_cissvae( data = df_missing, index_col = “index”, val_proportion = 0.1, ## pass vector different proportions cluster columns_ignore = c(“Age”, “Salary”, “ZipCode10001”, “ZipCode20002”, “ZipCode30003”), ## columns addition index want ignore selecting validation set, list . case, ignore ‘demographic’ columns want remove data validation purposes. clusters = clusters$clusters, ## precomputed cluster labels pass epochs = 5, return_silhouettes = FALSE, return_history = TRUE, # Get detailed training history verbose = FALSE, return_model = TRUE, ## Allows plotting model schematic device = “cpu”, # Explicit device selection layer_order_enc = c(“unshared”, “shared”, “unshared”), layer_order_dec = c(“shared”, “unshared”, “shared”), latent_shared = FALSE, output_shared = FALSE ) plot_vae_architecture(model = dat$model) ``` full tutorial, see vignette.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"use package research, please consider citing recent publication! Y. Khadem Charvadeh, K. Seier, K. S. Panageas, D. Vaithilingam, M.Gönen, Y. Chen, “Clustering-Informed Shared-Structure Variational Autoencoder Missing Data Imputation Large-Scale Healthcare Data,” Statistics Medicine 44, . 28-30 (2025): e70335, https://doi.org/10.1002/sim.70335.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/index.html","id":"authors","dir":"","previous_headings":"Citation","what":"Authors","title":"Clustering-Informed Shared-Structure Variational Autoencoder (CISS-VAE) for Missing Data Imputation","text":"Yasin Khadem Charvadeh Kenneth Seier Katherine S. Panageas Danielle Vaithilingam Mithat Gönen Yuan Chen (corresponding author) — cheny19@mskcc.org","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":null,"dir":"Reference","previous_headings":"","what":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"Performs hyperparameter optimization CISS-VAE using Optuna support tunable fixed parameters.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"","code":"autotune_cissvae(   data,   index_col = NULL,   val_proportion = 0.1,   replacement_value = 0,   columns_ignore = NULL,   imputable_matrix = NULL,   binary_feature_mask = NULL,   clusters,   save_model_path = NULL,   save_search_space_path = NULL,   n_trials = 20,   study_name = \"vae_autotune\",   device_preference = \"cuda\",   show_progress = FALSE,   optuna_dashboard_db = NULL,   load_if_exists = TRUE,   seed = 42,   verbose = FALSE,   constant_layer_size = FALSE,   evaluate_all_orders = FALSE,   max_exhaustive_orders = 100,   num_hidden_layers = c(1, 4),   hidden_dims = c(64, 512),   latent_dim = c(10, 100),   latent_shared = c(TRUE, FALSE),   output_shared = c(TRUE, FALSE),   lr = c(1e-04, 0.001),   decay_factor = c(0.9, 0.999),   weight_decay = 0.001,   beta = 0.01,   num_epochs = 500,   batch_size = 4000,   num_shared_encode = c(0, 1, 3),   num_shared_decode = c(0, 1, 3),   encoder_shared_placement = c(\"at_end\", \"at_start\", \"alternating\", \"random\"),   decoder_shared_placement = c(\"at_start\", \"at_end\", \"alternating\", \"random\"),   refit_patience = 2,   refit_loops = 100,   epochs_per_loop = 500,   reset_lr_refit = c(TRUE, FALSE),   debug = FALSE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"data Data frame matrix containing input data index_col String name index column preserve (optional) val_proportion Proportion non-missing data hold validation. replacement_value Numeric value used replace missing entries model input. columns_ignore Character vector column names exclude imputation scoring. imputable_matrix Logical matrix indicating entries allowed imputed. binary_feature_mask Logical vector marking columns binary. clusters Integer vector specifying cluster assignments row. save_model_path Optional path save best model's state_dict save_search_space_path Optional path save search space configuration n_trials Number Optuna trials run study_name Name identifier Optuna study device_preference Preferred device (\"cuda\", \"mps\", \"cpu\") show_progress Whether display Rich progress bars training optuna_dashboard_db RDB storage URL/file Optuna dashboard load_if_exists Whether load existing study storage seed Base random seed reproducible results verbose Whether print detailed diagnostic information constant_layer_size Whether hidden layers use dimension evaluate_all_orders Whether test possible layer arrangements max_exhaustive_orders Max arrangements test evaluate_all_orders=TRUE num_hidden_layers Numeric(2) vector: (min, max) number hidden layers hidden_dims Numeric vector: hidden layer dimensions test latent_dim Numeric(2) vector: (min, max) latent dimension latent_shared Logical vector: whether latent space shared across clusters output_shared Logical vector: whether output layer shared across clusters lr Numeric(2) vector: (min, max) learning rate range decay_factor Numeric(2) vector: (min, max) LR decay factor range weight_decay Weight decay (L2 penalty) used Adam optimizer. beta Numeric: KL divergence weight (fixed range) num_epochs Integer: number initial training epochs (fixed range) batch_size Integer: mini-batch size (fixed range) num_shared_encode Numeric vector: numbers shared encoder layers test num_shared_decode Numeric vector: numbers shared decoder layers test encoder_shared_placement Character vector: placement strategies encoder shared layers decoder_shared_placement Character vector: placement strategies decoder shared layers refit_patience Integer: early stopping patience refit loops refit_loops Integer: maximum number refit loops epochs_per_loop Integer: epochs per refit loop reset_lr_refit Logical vector: whether reset LR refit debug Logical; TRUE, additional metadata returned debugging.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"List containing imputed data, best model, study object, results dataframe","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":"tips","dir":"Reference","previous_headings":"","what":"Tips","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"rCISSVAE::cluster_on_missing() rCISSVAE::cluster_on_missing_prop() can used get cluster assignments. Use GPU computation available faster training large datasets. Use rCISSVAE::check_devices() see devices available. Adjust batch_size based available memory (larger = faster memory). Use verbose=TRUE show_progress=TRUE monitor training progress Use optuna-dashboard (see vignette) examine hyperparameter importance using binary features, set names(binary_feature_mask) = colnames(data) correct index column handling","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/autotune_cissvae.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Autotune CISS-VAE hyperparameters with Optuna — autotune_cissvae","text":"","code":"if (FALSE) { # \\dontrun{ library(tidyverse) library(reticulate) library(rCISSVAE) reticulate::use_virtualenv(\"./cissvae_environment\", required = TRUE)  data(df_missing) data(clusters)  aut <- autotune_cissvae(  data = df_missing,  index_col = \"index\",  clusters = clusters$clusters,  n_trials = 3, ## Using low number of trials for demo  study_name = \"comprehensive_vae_autotune\",  device_preference = \"cpu\",  seed = 42,     ## Hyperparameter search space  num_hidden_layers = c(2, 5),     # Try 2-5 hidden layers  hidden_dims = c(64, 512),        # Layer sizes from 64 to 512  latent_dim = c(10, 100),         # Latent dimension range  latent_shared = c(TRUE, FALSE),  output_shared = c(TRUE, FALSE),  lr = 0.01,  # Learning rate range  decay_factor = 0.99,  beta = 0.01,  # KL weight range  num_epochs = 5,                # Limited epochs for demo  batch_size = 4000,     # Batch size options  num_shared_encode = c(0, 1, 2, 3),  num_shared_decode = c(0, 1, 2, 3),    # Layer placement strategies - try different arrangements  encoder_shared_placement = c(\"at_end\", \"at_start\", \"alternating\", \"random\"),  decoder_shared_placement = c(\"at_start\", \"at_end\", \"alternating\", \"random\"),    refit_patience = 2,        # Early stopping patience  refit_loops = 10,                # Fixed refit loops, limited for demo  epochs_per_loop = 5,   # Epochs per refit loop, limited for demo  reset_lr_refit = c(TRUE, FALSE) )  plot_vae_architecture(aut$model, title = \"Optimized CISSVAE Architecture\") } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/check_devices.html","id":null,"dir":"Reference","previous_headings":"","what":"Check PyTorch device availability — check_devices","title":"Check PyTorch device availability — check_devices","text":"function prints available devices (cpu, cuda, mps) detected PyTorch. mps/cuda device shown, check PyTorch installation.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/check_devices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check PyTorch device availability — check_devices","text":"","code":"check_devices(env_path = NULL)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/check_devices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check PyTorch device availability — check_devices","text":"env_path Path virtual environment containing PyTorch ciss-vae. Defaults NULL.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/check_devices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check PyTorch device availability — check_devices","text":"Vector strings available devices.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing.html","id":null,"dir":"Reference","previous_headings":"","what":"Cluster on Missingness Patterns — cluster_on_missing","title":"Cluster on Missingness Patterns — cluster_on_missing","text":"Given R data.frame matrix missing values, clusters pattern missingness returns cluster labels plus silhouette score.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cluster on Missingness Patterns — cluster_on_missing","text":"","code":"cluster_on_missing(   data,   cols_ignore = NULL,   n_clusters = NULL,   seed = 42,   k_neighbors = NULL,   leiden_resolution = 0.25,   leiden_objective = \"CPM\",   use_snn = TRUE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cluster on Missingness Patterns — cluster_on_missing","text":"data data.frame matrix (samples × features), may contain NA. cols_ignore Character vector column names ignore clustering. n_clusters Integer; provided, run KMeans many clusters. NULL, use Leiden. seed Integer; random seed KMeans (reproducibility Leiden). k_neighbors Integer; minimum cluster size Leiden. NULL, defaults nrow(data) %/% 25. leiden_resolution Resolution Leiden Clustering. leiden_objective objective use_snn use snn","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cluster on Missingness Patterns — cluster_on_missing","text":"list components: clusters   — integer vector cluster labels silhouette — numeric silhouette score, NA computable","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing_prop.html","id":null,"dir":"Reference","previous_headings":"","what":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","title":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","text":"Groups samples similar patterns missingness across features using either K-means clustering (n_clusters specified) Leiden (n_clusters NULL). useful detecting cohorts shared missing-data behavior (e.g., site/batch effects).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing_prop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","text":"","code":"cluster_on_missing_prop(   prop_matrix,   n_clusters = NULL,   seed = NULL,   k_neighbors = NULL,   leiden_resolution = 0.25,   use_snn = TRUE,   leiden_objective = \"CPM\",   metric = \"euclidean\",   scale_features = FALSE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing_prop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","text":"prop_matrix Matrix data frame rows samples columns features, entries missingness proportions [0,1]. Can created create_missingness_prop_matrix(). n_clusters Integer; number clusters KMeans. NULL, uses Leiden (default: NULL). seed Integer; random seed KMeans reproducibility (default: NULL). k_neighbors Integer; Leiden minimum cluster size. NULL, Python default used (typically function number samples) (default: NULL). leiden_resolution Numeric; Leiden cluster selection threshold (default: 0.25). use_snn use snn leiden_objective objective metric Character; distance metric \"euclidean\" \"cosine\" (default: \"euclidean\"). scale_features Logical; whether standardize feature columns clustering samples (default: FALSE).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing_prop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","text":"list : clusters: Integer vector cluster assignments per sample. silhouette_score: Numeric silhouette score, NULL computable.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_on_missing_prop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cluster Samples Based on Missingness Proportions — cluster_on_missing_prop","text":"","code":"if (FALSE) { # \\dontrun{ set.seed(123) dat <- data.frame(   sample_id = paste0(\"s\", 1:12),   # Two features measured at 3 timepoints each → proportions by feature per sample   A_1 = c(NA, rnorm(11)), A_2 = c(NA, rnorm(11)), A_3 = rnorm(12),   B_1 = rnorm(12),        B_2 = c(rnorm(10), NA, NA), B_3 = rnorm(12) ) pm <- create_missingness_prop_matrix(dat, index_col = \"sample_id\",                                      repeat_feature_names = c(\"A\",\"B\")) res <- cluster_on_missing_prop(pm, n_clusters = 2, metric = \"cosine\", scale_features = TRUE) table(res$clusters_positive) res$silhouette_score } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","title":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","text":"Produce cluster-stratified summary table using gtsummary, cluster assignments supplied separate vector. additional arguments (...) passed directly gtsummary::tbl_summary(), users can specify all_continuous() / all_categorical() selectors custom statistics.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","text":"","code":"cluster_summary(   data,   clusters,   add_options = list(add_overall = FALSE, add_n = TRUE, add_p = FALSE),   return_as = c(\"gtsummary\", \"gt\"),   include = NULL,   ... )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","text":"data data.frame tibble features summarize. clusters vector (factor, character, numeric) cluster labels length equal nrow(data). add_options List post-processing options: add_overall (default FALSE): add overall column add_n       (default TRUE) : add group Ns add_p       (default FALSE): add p-values return_as \"gtsummary\" (default) \"gt\". \"gt\", function calls gtsummary::as_gt() rendering. include Optional character vector variables include. Defaults columns data. ... Passed gtsummary::tbl_summary() (e.g., statistic=, type=, digits=, missing=, label=, etc.).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","text":"gtsummary::tbl_summary (default) gt::gt_tbl return_as=\"gt\".","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/cluster_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cluster-wise summary table using a separate cluster vector (gtsummary + gt) — cluster_summary","text":"","code":"if (FALSE) { # \\dontrun{ df <- tibble::tibble(   age = rnorm(100, 60, 10),   bmi = rnorm(100, 28, 5),   sex = sample(c(\"F\",\"M\"), 100, TRUE) ) cl <- sample(1:3, 100, TRUE)  cluster_summary(   data = df,   clusters = cl,   statistic = list(     gtsummary::all_continuous()  ~ \"{mean} ({sd})\",     gtsummary::all_categorical() ~ \"{n} / {N} ({p}%)\"   ),   missing = \"always\" ) } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/clusters.html","id":null,"dir":"Reference","previous_headings":"","what":"Cluster assignments based on missingness patterns — clusters","title":"Cluster assignments based on missingness patterns — clusters","text":"tibble assigning observation df_missing cluster determined missingness pattern.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/clusters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cluster assignments based on missingness patterns — clusters","text":"","code":"clusters"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/clusters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Cluster assignments based on missingness patterns — clusters","text":"tibble 8000 rows 2 variables: index Integer. Row identifier imported data_raw/clusters.csv. cluster Factor (integer) giving missingness‐based cluster row.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/clusters.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Cluster assignments based on missingness patterns — clusters","text":"Imported data_raw/clusters.csv, renamed ...1 → index.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/clusters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cluster assignments based on missingness patterns — clusters","text":"","code":"data(clusters) table(clusters$cluster) #> Warning: Unknown or uninitialised column: `cluster`. #> < table of extent 0 >"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_cissvae_env.html","id":null,"dir":"Reference","previous_headings":"","what":"Create or reuse a CISSVAE Python virtual environment — create_cissvae_env","title":"Create or reuse a CISSVAE Python virtual environment — create_cissvae_env","text":"function either find existing virtualenv name (default location) custom filesystem path, create (install CISSVAE ).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_cissvae_env.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create or reuse a CISSVAE Python virtual environment — create_cissvae_env","text":"","code":"create_cissvae_env(   envname = \"cissvae_environment\",   path = NULL,   install_python = FALSE,   python_version = \"3.10\" )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_cissvae_env.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create or reuse a CISSVAE Python virtual environment — create_cissvae_env","text":"envname Name virtual environment (using default env location). path Character; optional path directory create/use virtualenv. install_python Logical; TRUE, install Python none least requested version found system. python_version Python version string (major.minor), used installing Python.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_cissvae_env.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create or reuse a CISSVAE Python virtual environment — create_cissvae_env","text":"","code":"if (FALSE) { # \\dontrun{ create_cissvae_env( envname = \"cissvae_environment\", install_python = FALSE, python_version = \"3.10\") } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_missingness_prop_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","title":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","text":"Creates matrix entry represents proportion missing values sample–feature combination across multiple timepoints. sample one proportion value per feature. Features may repeated time points (columns named like feature_1, feature_2, ...). matrix can used cluster_on_missing_prop() group samples similar missingness patterns.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_missingness_prop_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","text":"","code":"create_missingness_prop_matrix(   data,   index_col = NULL,   cols_ignore = NULL,   na_values = c(NA, NaN, Inf, -Inf),   repeat_feature_names = character(0),   loose = FALSE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_missingness_prop_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","text":"data Data frame matrix containing input data potential missing values. index_col Character scalar. Name index column exclude analysis (optional). supplied present, removed analysis; row names preserved -. cols_ignore Character vector column names exclude proportion matrix (optional). na_values Vector values treat missing addition standard missing values. Defaults c(NA, NaN, Inf, -Inf). repeat_feature_names Character vector \"base\" feature names repeated timepoints. Repeat measurements must form <feature>_<timepoint> <feature> alphanumeric (may include dots) <timepoint> integer (e.g., \"CRP_1\"). loose Logical. True, match column starting feature repeat_feature_names","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_missingness_prop_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","text":"numeric matrix dimension nrow(data) n_features, rows samples columns features (base names). Entries per-sample missingness proportions [0, 1]. returned matrix attribute \"feature_columns_map\": named list mapping output feature source columns used compute proportion.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/create_missingness_prop_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Missingness Proportion Matrix — create_missingness_prop_matrix","text":"","code":"df <- data.frame(   id = paste0(\"s\", 1:4),   CRP_1 = c(1.2, NA, 2.1, NaN),   CRP_2 = c(NA, NA, 2.0, 1.9),   IL6_1 = c(0.5, 0.7, Inf, 0.4),   IL6_2 = c(0.6, -Inf, 0.8, 0.5),   Albumin = c(3.9, 4.1, 4.0, NA) )  m <- create_missingness_prop_matrix(   data = df,   index_col = \"id\",   cols_ignore = NULL,   repeat_feature_names = c(\"CRP\", \"IL6\") )  dim(m)         # 4 x 3 (CRP, IL6, Albumin) #> [1] 4 3 m[ , \"CRP\"]    # per-sample proportion missing across CRP_1 and CRP_2 #>   1   2   3   4  #> 0.5 1.0 0.0 0.5  attr(m, \"feature_columns_map\") #> NULL"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/df_missing.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset with missing values — df_missing","title":"Sample dataset with missing values — df_missing","text":"tibble simulated biomarker measurements missing entries. row corresponds one observation (indexed index), remaining columns measured biomarker values, set NA demonstrate imputation workflows.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/df_missing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample dataset with missing values — df_missing","text":"","code":"df_missing"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/df_missing.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample dataset with missing values — df_missing","text":"tibble 8,000 rows 30 variables: index Integer. Row identifier imported data_raw/df_missing.csv. Age, Salary, ZipCode10001-ZipCode30003 Demographic columns. Omit selection validation set. missingness Y11, ..., Y55 Simulated Biomarker columns, missingness","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/df_missing.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Sample dataset with missing values — df_missing","text":"Imported data_raw/df_missing.csv, renamed ...1 → index.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/df_missing.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample dataset with missing values — df_missing","text":"","code":"data(df_missing) str(df_missing) #> spc_tbl_ [8,000 × 31] (S3: spec_tbl_df/tbl_df/tbl/data.frame) #>  $ index       : num [1:8000] 0 1 2 3 4 5 6 7 8 9 ... #>  $ Age         : num [1:8000] 11.04 9.73 11.38 13.56 9.54 ... #>  $ Salary      : num [1:8000] 6.37 5.91 6.64 5.9 6.13 ... #>  $ ZipCode10001: num [1:8000] 0 1 0 0 1 1 1 0 0 0 ... #>  $ ZipCode20002: num [1:8000] 1 0 1 0 0 0 0 1 1 0 ... #>  $ ZipCode30003: num [1:8000] 0 0 0 1 0 0 0 0 0 1 ... #>  $ Y11         : num [1:8000] -4.05 0.546 NA -10.608 0.358 ... #>  $ Y12         : num [1:8000] NA NA NA NA -16.5 ... #>  $ Y13         : num [1:8000] NA -12.2 -20.4 NA -11.3 ... #>  $ Y14         : num [1:8000] -14.37 -7.72 -15.13 -14.21 NA ... #>  $ Y15         : num [1:8000] -17.6 NA -17.3 -21.3 NA ... #>  $ Y21         : num [1:8000] NA -7.47 -18.45 -21.97 -7.58 ... #>  $ Y22         : num [1:8000] NA NA NA NA -27.6 ... #>  $ Y23         : num [1:8000] -35.8 -25.9 -34.4 -40.2 NA ... #>  $ Y24         : num [1:8000] -28.1 -17.2 -27.3 -26.3 NA ... #>  $ Y25         : num [1:8000] -30.2 -18.7 -28.8 -33.4 -18.6 ... #>  $ Y31         : num [1:8000] -1.63 4.36 -2.17 -7.48 8.1 ... #>  $ Y32         : num [1:8000] NA NA NA NA -13.6 ... #>  $ Y33         : num [1:8000] -16.77 -10.93 -17.19 -25.31 -9.83 ... #>  $ Y34         : num [1:8000] -10.69 -5.89 -10.49 NA NA ... #>  $ Y35         : num [1:8000] -13.9 -6.09 -12.29 -15.43 -2.96 ... #>  $ Y41         : num [1:8000] -0.905 2.625 NA -2.825 3.617 ... #>  $ Y42         : num [1:8000] NA NA NA NA -4.62 ... #>  $ Y43         : num [1:8000] NA -5.78 -7.22 -8.29 -3.86 ... #>  $ Y44         : num [1:8000] -3.69 -1.38 -3.35 -2.4 NA ... #>  $ Y45         : num [1:8000] -5.68 -2.33 -6.9 NA -1.5 ... #>  $ Y51         : num [1:8000] 2.588 6.081 2.531 0.139 NA ... #>  $ Y52         : num [1:8000] NA NA NA NA -3.34 ... #>  $ Y53         : num [1:8000] -4.68 -2.29 -5.43 -5.73 -1.92 ... #>  $ Y54         : num [1:8000] -2.248 -0.887 -1.33 -1.64 NA ... #>  $ Y55         : num [1:8000] -2.679 0.563 -2.324 -4.446 0.103 ... #>  - attr(*, \"spec\")= #>   .. cols( #>   ..   ...1 = col_double(), #>   ..   Age = col_double(), #>   ..   Salary = col_double(), #>   ..   ZipCode10001 = col_double(), #>   ..   ZipCode20002 = col_double(), #>   ..   ZipCode30003 = col_double(), #>   ..   Y11 = col_double(), #>   ..   Y12 = col_double(), #>   ..   Y13 = col_double(), #>   ..   Y14 = col_double(), #>   ..   Y15 = col_double(), #>   ..   Y21 = col_double(), #>   ..   Y22 = col_double(), #>   ..   Y23 = col_double(), #>   ..   Y24 = col_double(), #>   ..   Y25 = col_double(), #>   ..   Y31 = col_double(), #>   ..   Y32 = col_double(), #>   ..   Y33 = col_double(), #>   ..   Y34 = col_double(), #>   ..   Y35 = col_double(), #>   ..   Y41 = col_double(), #>   ..   Y42 = col_double(), #>   ..   Y43 = col_double(), #>   ..   Y44 = col_double(), #>   ..   Y45 = col_double(), #>   ..   Y51 = col_double(), #>   ..   Y52 = col_double(), #>   ..   Y53 = col_double(), #>   ..   Y54 = col_double(), #>   ..   Y55 = col_double() #>   .. ) #>  - attr(*, \"problems\")=<externalptr>  summary(df_missing) #>      index           Age             Salary       ZipCode10001    #>  Min.   :   0   Min.   : 4.782   Min.   :5.000   Min.   :0.0000   #>  1st Qu.:2000   1st Qu.: 8.732   1st Qu.:5.338   1st Qu.:0.0000   #>  Median :4000   Median : 9.986   Median :5.700   Median :0.0000   #>  Mean   :4000   Mean   :10.198   Mean   :5.819   Mean   :0.3285   #>  3rd Qu.:5999   3rd Qu.:11.440   3rd Qu.:6.169   3rd Qu.:1.0000   #>  Max.   :7999   Max.   :21.929   Max.   :8.959   Max.   :1.0000   #>                                                                   #>   ZipCode20002     ZipCode30003         Y11                Y12         #>  Min.   :0.0000   Min.   :0.0000   Min.   :-66.3324   Min.   :-66.85   #>  1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:-11.1297   1st Qu.:-22.37   #>  Median :0.0000   Median :0.0000   Median : -0.4072   Median : 48.60   #>  Mean   :0.3371   Mean   :0.3344   Mean   : -2.8224   Mean   : 22.23   #>  3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:  7.2439   3rd Qu.: 58.35   #>  Max.   :1.0000   Max.   :1.0000   Max.   : 26.2178   Max.   :112.32   #>                                    NA's   :3122       NA's   :3118     #>       Y13              Y14              Y15              Y21           #>  Min.   :-74.61   Min.   :-49.70   Min.   :-46.87   Min.   :-78.8702   #>  1st Qu.:-17.25   1st Qu.:-11.98   1st Qu.:-11.56   1st Qu.:-22.0992   #>  Median : 72.43   Median : 69.08   Median : 72.28   Median : -9.4794   #>  Mean   : 42.75   Mean   : 55.55   Mean   : 63.77   Mean   :-12.2318   #>  3rd Qu.: 94.71   3rd Qu.:118.98   3rd Qu.:134.28   3rd Qu.: -0.1001   #>  Max.   :141.59   Max.   :184.63   Max.   :212.94   Max.   : 19.8433   #>  NA's   :3110     NA's   :3129     NA's   :3141     NA's   :3135       #>       Y22              Y23              Y24              Y25         #>  Min.   :-91.64   Min.   :-98.82   Min.   :-68.73   Min.   :-67.74   #>  1st Qu.:-34.60   1st Qu.:-29.16   1st Qu.:-22.44   1st Qu.:-21.76   #>  Median : 47.36   Median : 74.15   Median : 71.14   Median : 73.21   #>  Mean   : 16.04   Mean   : 39.92   Mean   : 55.14   Mean   : 63.86   #>  3rd Qu.: 57.56   3rd Qu.: 99.94   3rd Qu.:128.49   3rd Qu.:145.23   #>  Max.   :114.18   Max.   :151.39   Max.   :195.89   Max.   :231.72   #>  NA's   :3094     NA's   :3098     NA's   :3146     NA's   :3106     #>       Y31                Y32              Y33              Y34          #>  Min.   :-61.8386   Min.   :-64.36   Min.   :-77.52   Min.   :-44.738   #>  1st Qu.:-14.2448   1st Qu.:-16.84   1st Qu.:-12.68   1st Qu.: -6.078   #>  Median : -0.4389   Median : 59.39   Median : 80.92   Median : 79.149   #>  Mean   : -2.3836   Mean   : 35.48   Mean   : 54.80   Mean   : 66.597   #>  3rd Qu.: 10.5156   3rd Qu.: 69.12   3rd Qu.:101.36   3rd Qu.:124.148   #>  Max.   : 33.9299   Max.   :118.72   Max.   :153.84   Max.   :198.039   #>  NA's   :2067       NA's   :2056     NA's   :2013     NA's   :2051      #>       Y35               Y41                 Y42               Y43          #>  Min.   :-43.026   Min.   :-25.02763   Min.   :-26.607   Min.   :-21.134   #>  1st Qu.: -5.815   1st Qu.: -6.42264   1st Qu.: -7.992   1st Qu.: -5.286   #>  Median : 80.878   Median : -0.06182   Median : 27.033   Median : 37.099   #>  Mean   : 73.133   Mean   : -1.02648   Mean   : 16.618   Mean   : 25.381   #>  3rd Qu.:138.746   3rd Qu.:  4.78046   3rd Qu.: 32.320   3rd Qu.: 46.395   #>  Max.   :226.577   Max.   : 14.21578   Max.   : 59.684   Max.   : 72.119   #>  NA's   :2054      NA's   :2032        NA's   :2022      NA's   :2013      #>       Y44               Y45               Y51                Y52          #>  Min.   :-17.799   Min.   :-15.073   Min.   :-19.8408   Min.   :-20.575   #>  1st Qu.: -2.974   1st Qu.: -2.927   1st Qu.: -3.6429   1st Qu.: -5.056   #>  Median : 35.892   Median : 37.450   Median :  1.8005   Median : 24.853   #>  Mean   : 30.326   Mean   : 33.814   Mean   :  0.9457   Mean   : 16.000   #>  3rd Qu.: 56.244   3rd Qu.: 63.199   3rd Qu.:  5.8282   3rd Qu.: 29.464   #>  Max.   : 94.820   Max.   :110.590   Max.   : 14.8720   Max.   : 52.763   #>  NA's   :2023      NA's   :2086      NA's   :2077       NA's   :2034      #>       Y53               Y54               Y55          #>  Min.   :-22.010   Min.   :-16.174   Min.   :-9.8664   #>  1st Qu.: -2.686   1st Qu.: -0.699   1st Qu.:-0.8639   #>  Median : 33.748   Median : 32.594   Median :33.7227   #>  Mean   : 23.584   Mean   : 27.660   Mean   :30.4929   #>  3rd Qu.: 41.398   3rd Qu.: 49.971   3rd Qu.:55.6098   #>  Max.   : 65.703   Max.   : 82.862   Max.   :95.5910   #>  NA's   :1976      NA's   :2047      NA's   :2050"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/dni.html","id":null,"dir":"Reference","previous_headings":"","what":"Example dni matrix for demo of imputable_matrix — dni","title":"Example dni matrix for demo of imputable_matrix — dni","text":"sample imputable_matrix (dataframe).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/dni.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example dni matrix for demo of imputable_matrix — dni","text":"","code":"dni"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/dni.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example dni matrix for demo of imputable_matrix — dni","text":"dataframe: imputable_matrix mock imputable_matrix dataframe","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/dni.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example dni matrix for demo of imputable_matrix — dni","text":"Imported data_raw/dni.csv","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/dni.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example dni matrix for demo of imputable_matrix — dni","text":"","code":"data(dni)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/evaluate_imputation.html","id":null,"dir":"Reference","previous_headings":"","what":"Evaluate imputation accuracy (R wrapper) — evaluate_imputation","title":"Evaluate imputation accuracy (R wrapper) — evaluate_imputation","text":"Compare imputed values ground truth originally missing positions, calling Python function evaluate_imputation() defined ciss_vae module.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/evaluate_imputation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Evaluate imputation accuracy (R wrapper) — evaluate_imputation","text":"","code":"evaluate_imputation(imputed_df, df_complete, df_missing)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/evaluate_imputation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Evaluate imputation accuracy (R wrapper) — evaluate_imputation","text":"imputed_df data.frame tibble imputed values (dim df_complete) df_complete data.frame tibble complete (ground-truth) values df_missing data.frame tibble NAs indicating original missing entries","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/evaluate_imputation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Evaluate imputation accuracy (R wrapper) — evaluate_imputation","text":"list components","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/mock_surv.html","id":null,"dir":"Reference","previous_headings":"","what":"Example survival data for demo of imputable_matrix — mock_surv","title":"Example survival data for demo of imputable_matrix — mock_surv","text":"sample survival dataset","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/mock_surv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example survival data for demo of imputable_matrix — mock_surv","text":"","code":"mock_surv"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/mock_surv.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example survival data for demo of imputable_matrix — mock_surv","text":"dataframe: mock_surv mock survival dataset","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/mock_surv.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example survival data for demo of imputable_matrix — mock_surv","text":"Imported data_raw/mock_survival.csv","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/mock_surv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example survival data for demo of imputable_matrix — mock_surv","text":"","code":"data(mock_surv)"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"Calculates mean squared error (MSE) continuous features binary cross-entropy (BCE) features explicitly mark binary, comparing model-imputed validation values ground-truth validation data.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"","code":"performance_by_cluster(   res,   clusters = NULL,   group_col = NULL,   feature_cols = NULL,   binary_features = character(0),   by_group = TRUE,   by_cluster = TRUE,   cols_ignore = NULL )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"res list containing CISS-VAE run outputs. Must include: res$val_data: validation data frame (NA non-validation cells) res$val_imputed: model-imputed validation predictions res$clusters: cluster labels row clusters Optional vector (length rows val_data) cluster labels. NULL, use res$clusters. group_col Optional character, name column val_data grouping. feature_cols Character vector specifying feature columns evaluate. Defaults numeric columns except group_col cols_ignore. binary_features Character vector naming columns (subset feature_cols) use BCE instead MSE. by_group Logical; TRUE (default), summarize group_col. by_cluster Logical; TRUE (default), summarize cluster. cols_ignore Character vector column names exclude scoring (e.g., “id”).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"named list containing: overall: overall average metric (MSE continuous, BCE binary) per_cluster: summaries cluster per_group: summaries group group_by_cluster: summaries group cluster per_feature_overall: average per-feature metric","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"features listed binary_features, performance binary cross-entropy (BCE): $$-[y\\log(p) + (1-y)\\log(1-p)]$$. numeric features, performance mean squared error (MSE).","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/performance_by_cluster.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute per-cluster and per-group performance metrics (MSE, BCE) — performance_by_cluster","text":"","code":"if (FALSE) { # \\dontrun{ library(tidyverse) library(reticulate) library(rCISSVAE) library(kableExtra) library(gtsummary)  data(df_missing) data(clusters)  result = run_cissvae(   data = df_missing,   index_col = \"index\",   val_proportion = 0.1, ## pass a vector for different proportions by cluster   columns_ignore = c(\"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\"),    epochs = 5,   return_silhouettes = FALSE,   return_history = TRUE,  # Get detailed training history   verbose = FALSE,   return_model = TRUE, ## Allows for plotting model schematic   device = \"cpu\",  # Explicit device selection   layer_order_enc = c(\"unshared\", \"shared\", \"unshared\"),   layer_order_dec = c(\"shared\", \"unshared\", \"shared\"),   return_validation_dataset = TRUE )  performance_by_cluster(res = result,    group_col = NULL,    clusters = clusters$clusters,   feature_cols = NULL, ## default, all numeric columns excluding group_col & cols_ignore   by_group = FALSE,   by_cluster = TRUE,   cols_ignore = c( \"index\", \"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\")  ) } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot VAE Architecture Diagram — plot_vae_architecture","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"Creates horizontal schematic diagram CISS-VAE architecture, showing shared cluster-specific layers. function wraps Python plot_vae_architecture function ciss_vae package.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"","code":"plot_vae_architecture(   model,   title = NULL,   color_shared = \"skyblue\",   color_unshared = \"lightcoral\",   color_latent = \"gold\",   color_input = \"lightgreen\",   color_output = \"lightgreen\",   figsize = c(16, 8),   save_path = NULL,   dpi = 300,   return_plot = FALSE,   display_plot = TRUE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"model trained CISSVAE model object (Python object) title Title plot. NULL, title displayed. Default NULL. color_shared Color shared hidden layers. Default \"skyblue\". color_unshared Color unshared (cluster-specific) hidden layers. Default \"lightcoral\". color_latent Color latent layer. Default \"gold\". color_input Color input layer. Default \"lightgreen\". color_output Color output layer. Default \"lightgreen\". figsize Size matplotlib figure c(width, height). Default c(16, 8). save_path Optional path save plot PNG. NULL, plot displayed. Default NULL. dpi Resolution saved PNG file. Default 300. return_plot Logical; TRUE, returns plot R object using reticulate. Default FALSE. display_plot Logical; TRUE, displays plot. Set FALSE saving. Default TRUE.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"return_plot TRUE, returns Python matplotlib figure object can manipulated. Otherwise returns NULL invisibly.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":"tips","dir":"Reference","previous_headings":"","what":"Tips","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"get TCL TK error, run: reticulate::py_run_string(\"import matplotlib; matplotlib.use('Agg')\") change matplotlib backend use 'Agg' instead.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/plot_vae_architecture.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot VAE Architecture Diagram — plot_vae_architecture","text":"","code":"if (FALSE) { # \\dontrun{ # Train a model first result <- run_cissvae(my_data, return_model = TRUE)  # Basic plot plot_vae_architecture(result$model)  # Save plot to file plot_vae_architecture(   model = result$model,   title = \"CISS-VAE Architecture\",   save_path = \"vae_architecture.png\",   dpi = 300 )  # Return plot object for further manipulation fig <- plot_vae_architecture(   model = result$model,   return_plot = TRUE,   display_plot = FALSE ) } # }"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"function wraps Python run_cissvae function ciss_vae package, providing complete pipeline missing data imputation using Cluster-Informed Shared Specific Variational Autoencoder (CISS-VAE). function handles data preprocessing, model training, returns imputed data along optional model artifacts. CISS-VAE architecture uses cluster information learn shared cluster-specific representations, enabling accurate imputation leveraging patterns within across different data subgroups.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"","code":"run_cissvae(   data,   index_col = NULL,   val_proportion = 0.1,   replacement_value = 0,   columns_ignore = NULL,   imputable_matrix = NULL,   binary_feature_mask = NULL,   print_dataset = TRUE,   clusters = NULL,   n_clusters = NULL,   seed = 42,   missingness_proportion_matrix = NULL,   scale_features = FALSE,   k_neighbors = 15L,   leiden_resolution = 0.5,   leiden_objective = \"CPM\",   hidden_dims = c(150, 120, 60),   latent_dim = 15,   layer_order_enc = c(\"unshared\", \"unshared\", \"unshared\"),   layer_order_dec = c(\"shared\", \"shared\", \"shared\"),   latent_shared = FALSE,   output_shared = FALSE,   batch_size = 4000,   epochs = 500,   initial_lr = 0.01,   decay_factor = 0.999,   weight_decay = 0.001,   beta = 0.001,   device = NULL,   max_loops = 100,   patience = 2,   epochs_per_loop = NULL,   initial_lr_refit = NULL,   decay_factor_refit = NULL,   beta_refit = NULL,   verbose = FALSE,   return_model = TRUE,   return_clusters = FALSE,   return_silhouettes = FALSE,   return_history = FALSE,   return_dataset = FALSE,   return_validation_dataset = FALSE,   debug = FALSE )"},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"data data.frame matrix (samples × features) containing data impute. May contain NA values imputed. index_col Character. Name column data treat sample identifier. column removed training re-attached results. Default NULL. val_proportion Numeric. Fraction non-missing entries hold validation training. Must 0 1. Default 0.1. replacement_value Numeric. Fill value masked entries training. Default 0.0. columns_ignore Character integer vector. Columns exclude validation set. Can specify name index. Default NULL. imputable_matrix Logical matrix indicating entries allowed imputed. binary_feature_mask Logical vector marking columns binary. print_dataset Logical. TRUE, prints dataset summary information processing. Default TRUE. clusters Optional vector single-column data.frame precomputed cluster labels samples. NULL, clustering performed automatically. Default NULL. n_clusters Integer. Number clusters KMeans clustering clusters NULL. Number clusters KMeans clustering 'clusters' NULL. NULL, use Leiden clustering. Default NULL. seed Integer. Random seed reproducible results. Default 42. missingness_proportion_matrix Optional pre-computed missingness proportion matrix biomarker-based clustering. provided, clustering based proportions. Default NULL. scale_features Logical. Whether scale features using missingness proportion matrix clustering. Default FALSE. k_neighbors Integer. Number nearest neighbors Leiden clustering. Defaults 15. leiden_resolution Float. Resolution parameter Leiden clustering. Defaults 0.5. leiden_objective Character. Objective function Leiden clustering. One (\"CPM\", \"RB\", \"Modularity\") hidden_dims Integer vector. Sizes hidden layers encoder/decoder. Length determines number hidden layers. Default c(150, 120, 60). latent_dim Integer. Dimension latent space representation. Default 15. layer_order_enc Character vector. Sharing pattern encoder layers. element \"shared\" \"unshared\". Length must match length(hidden_dims). Default c(\"unshared\", \"unshared\", \"unshared\"). layer_order_dec Character vector. Sharing pattern decoder layers. element \"shared\" \"unshared\". Length must match length(hidden_dims). Default c(\"shared\", \"shared\", \"shared\"). latent_shared Logical. Whether latent space weights shared across clusters. Default FALSE. output_shared Logical. Whether output layer weights shared across clusters. Default FALSE. batch_size Integer. Mini-batch size training. Larger values may improve training stability require memory. Default 4000. epochs Integer. Number epochs initial training phase. Default 500. initial_lr Numeric. Initial learning rate optimizer. Default 0.01. decay_factor Numeric. Exponential decay factor learning rate scheduling. Must 0 1. Default 0.999. weight_decay Weight decay (L2 penalty) used Adam optimizer. beta Numeric. Weight KL divergence term VAE loss function. Controls regularization strength. Default 0.001. device Character. Device specification computation (\"cpu\" \"cuda\"). NULL, automatically selects best available device. Default NULL. max_loops Integer. Maximum number impute-refit loops perform. Default 100. patience Integer. Early stopping patience refit loops. Training stops validation loss improve many consecutive loops. Default 2. epochs_per_loop Integer. Number epochs per refit loop. NULL, uses value epochs. Default NULL. initial_lr_refit Numeric. Learning rate refit loops. NULL, uses value initial_lr. Default NULL. decay_factor_refit Numeric. Decay factor refit loops. NULL, uses value decay_factor. Default NULL. beta_refit Numeric. KL weight refit loops. NULL, uses value beta. Default NULL. verbose Logical. TRUE, prints detailed progress information training. Default FALSE. return_model Logical. TRUE, returns trained Python VAE model object. Default TRUE. return_clusters Logical. TRUE returns cluster vector return_silhouettes Logical. TRUE, returns silhouette scores cluster quality assessment. Default FALSE. return_history Logical. TRUE, returns training history data.frame containing loss values metrics epochs. Default FALSE. return_dataset Logical. TRUE, returns ClusterDataset object used training (contains validation data, masks, etc.). Default FALSE. return_validation_dataset Logical. TRUE returns validation dataset debug Logical; TRUE, additional metadata returned debugging.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"list containing imputed data optional additional outputs: imputed data.frame imputed data dimensions input. Missing values filled model predictions. index_col provided, re-attached first column. model (return_model=TRUE) Python CISSVAE model object. Can used analysis predictions. dataset (return_dataset=TRUE) Python ClusterDataset object containing validation data, masks, normalization parameters, cluster labels. Can used performance_by_cluster() analysis functions. silhouettes (return_silhouettes=TRUE) Numeric silhouette score measuring cluster separation quality. history (return_history=TRUE) data.frame containing training history columns epoch, losses, validation metrics.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"CISS-VAE method works two main phases: Initial Training: model trained original data validation holdout learn initial representations imputation patterns. Impute-Refit Loops: model iteratively imputes missing values retrains updated dataset convergence maximum loops reached. architecture uses shared cluster-specific layers capture: Shared patterns: Common relationships across clusters Specific patterns: Unique relationships within cluster","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"requirements","dir":"Reference","previous_headings":"","what":"Requirements","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"function requires Python ciss_vae package installed accessible via reticulate.","code":""},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"performance-tips","dir":"Reference","previous_headings":"","what":"Performance Tips","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"leiden clustering yields many clusters, consider increasing k_neighbors reducing leiden_resolution`` \\item Use GPU computation available faster training large datasets. Use rCISSVAE::check_devices()see devices available. \\item Adjustbatch_sizebased available memory (larger = faster memory) \\item Useverbose=TRUE` monitor training progress","code":""},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/reference/run_cissvae.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the CISS-VAE pipeline for missing data imputation — run_cissvae","text":"","code":"if (FALSE) { # \\dontrun{ library(reticulate) library(rCISSVAE)  data(df_missing) data(clusters)  dat = run_cissvae(  data = df_missing,  index_col = \"index\",  val_proportion = 0.1, ## pass a vector for different proportions by cluster  columns_ignore = c(\"Age\", \"Salary\", \"ZipCode10001\", \"ZipCode20002\", \"ZipCode30003\"),   clusters = clusters$clusters, ## we have precomputed cluster labels so we pass them here  epochs = 5,  return_silhouettes = FALSE,  return_history = TRUE,  # Get detailed training history  verbose = FALSE,  return_model = TRUE, ## Allows for plotting model schematic  device = \"cpu\",  # Explicit device selection  layer_order_enc = c(\"unshared\", \"shared\", \"unshared\"),  layer_order_dec = c(\"shared\", \"unshared\", \"shared\") ) } # }  if (FALSE) { # \\dontrun{ # Basic usage with automatic clustering result <- run_cissvae(   data = my_data_with_missing,   index_col = \"sample_id\" ) imputed_data <- result$imputed  # Advanced usage with dataset for performance analysis result <- run_cissvae(   data = my_data,   clusters = my_cluster_labels,   hidden_dims = c(200, 150, 100),   latent_dim = 20,   epochs = 1000,   return_history = TRUE,   return_silhouettes = TRUE,   return_dataset = TRUE,   verbose = TRUE )  # Access different outputs imputed_data <- result$imputed training_history <- result$history cluster_quality <- result$silhouettes  # Use dataset for performance analysis perf <- performance_by_cluster(   original_data = my_data,   model = result$model,   dataset = result$dataset,   clusters = my_cluster_labels )  # Using pre-computed missingness matrix for clustering prop_matrix <- create_missingness_prop_matrix(   data = my_data,    index_col = \"sample_id\" ) result <- run_cissvae(   data = my_data,   index_col = \"sample_id\",   missingness_proportion_matrix = prop_matrix,   scale_features = TRUE,   return_dataset = TRUE )  # Custom layer sharing patterns result <- run_cissvae(   data = my_data,   hidden_dims = c(100, 80, 60),   layer_order_enc = c(\"unshared\", \"shared\", \"shared\"),   layer_order_dec = c(\"shared\", \"shared\", \"unshared\"),   latent_shared = TRUE ) } # }"},{"path":[]},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/news/index.html","id":"updates-0-0-2-0000","dir":"Changelog","previous_headings":"","what":"Updates","title":"rCISSVAE v0.0.2.0000","text":"Added extdata files sample results Added documentation undcumented things","code":""},{"path":[]},{"path":[]},{"path":"https://ciss-vae.github.io/rCISS-VAE/news/index.html","id":"updates-0-0-1-0000","dir":"Changelog","previous_headings":"","what":"Updates","title":"rCISSVAE v0.0.1.0000","text":"gtsummary-like cluster_summary function","code":""}]
